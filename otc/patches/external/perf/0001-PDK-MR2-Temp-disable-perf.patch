From 76af4e60f3601b85902e0d8888b40cd037863122 Mon Sep 17 00:00:00 2001
From: Yong Yao <yong.yao@intel.com>
Date: Sun, 16 Jun 2013 20:32:25 +0800
Subject: [PDK MR2 Temp] disable perf

Change-Id: I5d5c993dfcef9a7f19e334229645266db8effc5f
Signed-off-by: Yong Yao <yong.yao@intel.com>
---
 Android.mk |  441 ------------------------------------------------------------
 1 files changed, 0 insertions(+), 441 deletions(-)
 delete mode 100644 Android.mk

diff --git a/Android.mk b/Android.mk
deleted file mode 100644
index 1eb735d..0000000
--- a/Android.mk
+++ /dev/null
@@ -1,441 +0,0 @@
-LOCAL_PATH := $(call my-dir)/tools/perf
-
-ifeq ($(BOARD_PERF),external/perf)
-
-#
-# common configuration
-#
-
-CROSS_PREFIX := $(shell basename $(TARGET_TOOLS_PREFIX))
-PERF_VERSION := 3.6.rc3
-
-LIB_SRCS := \
-	util/abspath.c \
-	util/alias.c \
-	util/annotate.c \
-	util/build-id.c \
-	util/config.c \
-	util/ctype.c \
-	util/debugfs.c \
-	util/sysfs.c \
-	util/pmu.c \
-	util/environment.c \
-	util/event.c \
-	util/evlist.c \
-	util/evsel.c \
-	util/exec_cmd.c \
-	util/help.c \
-	util/levenshtein.c \
-	util/parse-options.c \
-	util/parse-events.c \
-	util/parse-events-test.c \
-	util/path.c \
-	util/bitmap.c \
-	util/hweight.c \
-	util/run-command.c \
-	util/quote.c \
-	util/strbuf.c \
-	util/string.c \
-	util/strlist.c \
-	util/strfilter.c \
-	util/top.c \
-	util/usage.c \
-	util/wrapper.c \
-	util/sigchain.c \
-	util/symbol.c \
-	util/symbol-elf.c \
-	util/dso-test-data.c \
-	util/color.c \
-	util/pager.c \
-	util/header.c \
-	util/callchain.c \
-	util/values.c \
-	util/debug.c \
-	util/map.c \
-	util/pstack.c \
-	util/session.c \
-	util/thread.c \
-	util/thread_map.c \
-	util/trace-event-parse.c \
-	util/trace-event-read.c \
-	util/trace-event-info.c \
-	util/trace-event-scripting.c \
-	util/svghelper.c \
-	util/sort.c \
-	util/hist.c \
-	util/probe-event.c \
-	util/util.c \
-	util/xyarray.c \
-	util/cpumap.c \
-	util/cgroup.c \
-	util/target.c \
-	util/rblist.c \
-	util/intlist.c \
-	ui/helpline.c \
-	ui/hist.c \
-	ui/stdio/hist.c \
-	../../lib/rbtree.c \
-
-BUILTIN_SRCS += \
-	builtin-annotate.c \
-	builtin-bench.c \
-	bench/sched-messaging.c \
-	bench/sched-pipe.c \
-	bench/mem-memcpy.c \
-	bench/mem-memset.c \
-	builtin-diff.c \
-	builtin-evlist.c \
-	builtin-help.c \
-	builtin-sched.c \
-	builtin-buildid-list.c \
-	builtin-buildid-cache.c \
-	builtin-list.c \
-	builtin-record.c \
-	builtin-report.c \
-	builtin-stat.c \
-	builtin-timechart.c \
-	builtin-top.c \
-	builtin-script.c \
-	builtin-probe.c \
-	builtin-kmem.c \
-	builtin-lock.c \
-	builtin-kvm.c \
-	builtin-test.c \
-	builtin-inject.c \
-	perf.c \
-
-LIB_TRACEEVENT_SRCS = \
-	../lib/traceevent/event-parse.c \
-	../lib/traceevent/parse-filter.c \
-	../lib/traceevent/parse-utils.c \
-	../lib/traceevent/trace-seq.c \
-
-ifneq ($(DEBUG),)
-PERF_CFLAGS += \
-	-Wformat \
-	-Wformat-security \
-	-Wformat-y2k \
-	-Wshadow \
-	-Winit-self \
-	-Wpacked \
-	-Wredundant-decls \
-	-Wstrict-aliasing=3 \
-	-Wswitch-default \
-	-Wswitch-enum \
-	-Wno-system-headers \
-	-Wundef \
-	-Wwrite-strings \
-	-Wbad-function-cast \
-	-Wmissing-declarations \
-	-Wmissing-prototypes \
-	-Wnested-externs \
-	-Wold-style-definition \
-	-Wstrict-prototypes \
-	-Wdeclaration-after-statement \
-	-Wall \
-	-Wextra \
-	-Wstack-protector \
-	-Wvolatile-register-var \
-	-ggdb3 \
-
-endif
-
-PERF_CFLAGS += \
-	-D_LARGEFILE64_SOURCE \
-	-D_FILE_OFFSET_BITS=64 \
-	-fstack-protector-all \
-	-fno-omit-frame-pointer \
-	-std=gnu99 \
-	-D_GNU_SOURCE=1 \
-	-Wno-pointer-arith \
-	-DNO_LIBPERL \
-	-DNO_LIBPYTHON \
-	-DNO_NEWT_SUPPORT \
-	-DNO_GTK2_SUPPORT \
-	-DNO_DEMANGLE \
-	-DNO_DWARF \
-	-DNO_LIBUNWIND_SUPPORT \
-	-DNO_PERF_REGS \
-	-DETC_PERFCONFIG='""' \
-	-DPERF_MAN_PATH='""' \
-	-DPERF_INFO_PATH='""' \
-	-DPERF_HTML_PATH='""' \
-	-DPREFIX='""' \
-	-DPERF_EXEC_PATH='""' \
-	-DPERF_VERSION='"$(PERF_VERSION)"' \
-
-#undefine NDEBUG to allow assert()
-PERF_CFLAGS += \
-	-UNDEBUG \
-
-PERF_CFLAGS_HOST += \
-	$(PERF_CFLAGS) \
-	-DNO_STRLCPY \
-	-DPERF_TMP_DIR='"/tmp"' \
-	-DPERF_SHELL_DIR='"/bin/sh"' \
-	-DPERF_OBJDUMP_PATH='"$(CROSS_PREFIX)objdump"' \
-	-DPERF_ADDR2LINE_PATH='"$(CROSS_PREFIX)addr2line"' \
-
-PERF_CFLAGS_TARGET += \
-	$(PERF_CFLAGS) \
-	-D_FORTIFY_SOURCE=2 \
-	-DNO_BACKTRACE \
-	-DNO_LOCALE \
-	-DPERF_TMP_DIR='"/data/local/tmp"' \
-	-DPERF_SHELL_DIR='"/system/bin/sh"' \
-	-DPERF_OBJDUMP_PATH='"objdump"' \
-	-DPERF_ADDR2LINE_PATH='"addr2line"' \
-
-PERF_C_INCLUDES := \
-	$(LOCAL_PATH)/util/include/ \
-	$(LOCAL_PATH)/../lib/traceevent/ \
-	$(LOCAL_PATH)/util/ \
-	$(ANDROID_BUILD_TOP)/external/elfutils/libelf/ \
-
-PERF_C_INCLUDES_HOST := \
-	$(PERF_C_INCLUDES) \
-
-PERF_C_INCLUDES_TARGET := \
-	$(PERF_C_INCLUDES) \
-
-#
-#libperf (target)
-#
-include $(CLEAR_VARS)
-
-LOCAL_MODULE := libperf
-LOCAL_MODULE_TAGS := eng
-LOCAL_MODULE_CLASS := STATIC_LIBRARIES
-
-intermediates := $(call local-intermediates-dir)
-
-#generates util/parse-events-flex.c, util/parse-events-flex.h
-PARSE_EVENTS_FLEX_GEN := $(addprefix $(intermediates)/,util/parse-events-flex.c)
-$(PARSE_EVENTS_FLEX_GEN) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && flex --header-file=$(PRIVATE_OUT)/util/parse-events-flex.h -t util/parse-events.l > $(PRIVATE_TOP)/$@ && cd -
-$(PARSE_EVENTS_FLEX_GEN) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PARSE_EVENTS_FLEX_GEN) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PARSE_EVENTS_FLEX_GEN) : PRIVATE_OUT := $(ANDROID_BUILD_TOP)/$(intermediates)
-$(PARSE_EVENTS_FLEX_GEN) :
-	$(transform-generated-source)
-
-#generates util/parse-events-bison.c
-PARSE_EVENTS_BISON_GEN := $(addprefix $(intermediates)/,util/parse-events-bison.c)
-$(PARSE_EVENTS_BISON_GEN) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && bison -v util/parse-events.y -d -o $(PRIVATE_TOP)/$@ && cd -
-$(PARSE_EVENTS_BISON_GEN) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PARSE_EVENTS_BISON_GEN) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PARSE_EVENTS_BISON_GEN) :
-	$(transform-generated-source)
-
-#generates util/pmu-flex.c, util/pmu-flex.h
-PMU_FLEX_GEN := $(addprefix $(intermediates)/,util/pmu-flex.c)
-$(PMU_FLEX_GEN) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && flex --header-file=$(PRIVATE_OUT)/util/pmu-flex.h -t util/pmu.l >  $(PRIVATE_TOP)/$@ && cd -
-$(PMU_FLEX_GEN) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PMU_FLEX_GEN) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PMU_FLEX_GEN) : PRIVATE_OUT := $(ANDROID_BUILD_TOP)/$(intermediates)
-$(PMU_FLEX_GEN) :
-	$(transform-generated-source)
-
-#generates util/pmu-bison.c
-PMU_BISON_GEN := $(addprefix $(intermediates)/,util/pmu-bison.c)
-$(PMU_BISON_GEN) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && bison -v util/pmu.y -d -o $(PRIVATE_TOP)/$@ && cd -
-$(PMU_BISON_GEN) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PMU_BISON_GEN) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PMU_BISON_GEN) :
-	$(transform-generated-source)
-
-LOCAL_GENERATED_SOURCES = $(PARSE_EVENTS_FLEX_GEN) $(PARSE_EVENTS_BISON_GEN) $(PMU_FLEX_GEN) $(PMU_BISON_GEN)
-
-LOCAL_CFLAGS += $(PERF_CFLAGS_TARGET)
-LOCAL_SRC_FILES+= $(LIB_SRCS)
-LOCAL_C_INCLUDES := \
-	$(PERF_C_INCLUDES_TARGET) \
-	$(intermediates) \
-	$(intermediates)/util \
-
-include $(BUILD_STATIC_LIBRARY)
-
-#
-#libtraceevent (target)
-#
-include $(CLEAR_VARS)
-
-LOCAL_MODULE := libtraceevent
-LOCAL_MODULE_TAGS := eng
-LOCAL_CFLAGS += $(PERF_CFLAGS_TARGET)
-LOCAL_MODULE_CLASS := STATIC_LIBRARIES
-LOCAL_SRC_FILES+= $(LIB_TRACEEVENT_SRCS)
-include $(BUILD_STATIC_LIBRARY)
-
-#
-#perf (target)
-#
-include $(CLEAR_VARS)
-
-LOCAL_MODULE_CLASS := EXECUTABLES
-LOCAL_MODULE := perf
-LOCAL_MODULE_TAGS := eng
-
-intermediates := $(call local-intermediates-dir)
-
-#generates common-cmds.h
-CMDS_GEN := $(addprefix $(intermediates)/,common-cmds.h)
-$(CMDS_GEN) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && util/generate-cmdlist.sh > $(PRIVATE_TOP)/$@ && cd -
-$(CMDS_GEN) : PRIVATE_PATH := $(LOCAL_PATH)
-$(CMDS_GEN) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(CMDS_GEN) :
-	$(transform-generated-source)
-
-LOCAL_GENERATED_SOURCES = $(CMDS_GEN)
-
-LOCAL_STATIC_LIBRARIES := libperf libtraceevent libelf
-LOCAL_SHARED_LIBRARIES := libdl
-LOCAL_SRC_FILES+= $(BUILTIN_SRCS)
-LOCAL_CFLAGS += $(PERF_CFLAGS_TARGET)
-LOCAL_C_INCLUDES := \
-	$(PERF_C_INCLUDES_TARGET) \
-	$(intermediates) \
-	$(intermediates)/util \
-
-include $(BUILD_EXECUTABLE)
-
-# perf-archive (target)
-# Copy archive script
-# We have to call copy-file-to-new-target instead of simply including
-# $(BUILD_PREBUILT) here, because we need the script to have exec rights
-include $(CLEAR_VARS)
-
-LOCAL_MODULE := perf-archive
-LOCAL_MODULE_TAGS := eng
-LOCAL_MODULE_CLASS := EXECUTABLES
-LOCAL_SRC_FILES := $(LOCAL_MODULE).sh
-include $(BUILD_SYSTEM)/base_rules.mk
-$(LOCAL_BUILT_MODULE): $(LOCAL_PATH)/$(LOCAL_MODULE).sh | $(ACP)
-	@echo "Copy: $(PRIVATE_MODULE) ($@)"
-	$(copy-file-to-new-target)
-	$(hide) sed -i 's/#!\/bin\/bash/#!\/system\/bin\/sh/g' $@
-	$(hide) chmod 755 $@
-
-#
-#libperf (host)
-#
-include $(CLEAR_VARS)
-
-LOCAL_MODULE := libperf
-LOCAL_MODULE_CLASS := STATIC_LIBRARIES
-LOCAL_IS_HOST_MODULE := true
-
-intermediates := $(call local-intermediates-dir)
-
-#generates util/parse-events-flex.c, util/parse-events-flex.h
-PARSE_EVENTS_FLEX_GEN_HOST := $(addprefix $(intermediates)/,util/parse-events-flex.c)
-$(PARSE_EVENTS_FLEX_GEN_HOST) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && flex --header-file=$(PRIVATE_OUT)/util/parse-events-flex.h -t util/parse-events.l > $(PRIVATE_TOP)/$@ && cd -
-$(PARSE_EVENTS_FLEX_GEN_HOST) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PARSE_EVENTS_FLEX_GEN_HOST) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PARSE_EVENTS_FLEX_GEN_HOST) : PRIVATE_OUT := $(ANDROID_BUILD_TOP)/$(intermediates)
-$(PARSE_EVENTS_FLEX_GEN_HOST) :
-	$(transform-generated-source)
-
-#generates util/parse-events-bison.c
-PARSE_EVENTS_BISON_GEN_HOST := $(addprefix $(intermediates)/,util/parse-events-bison.c)
-$(PARSE_EVENTS_BISON_GEN_HOST) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && bison -v util/parse-events.y -d -o $(PRIVATE_TOP)/$@ && cd -
-$(PARSE_EVENTS_BISON_GEN_HOST) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PARSE_EVENTS_BISON_GEN_HOST) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PARSE_EVENTS_BISON_GEN_HOST) :
-	$(transform-generated-source)
-$(intermediates)/utils/parse-event-bison.o: $(PARSE_EVENTS_BISON_GEN_HOST)
-
-#generates util/pmu-flex.c, util/pmu-flex.h
-PMU_FLEX_GEN_HOST := $(addprefix $(intermediates)/,util/pmu-flex.c)
-$(PMU_FLEX_GEN_HOST) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && flex --header-file=$(PRIVATE_OUT)/util/pmu-flex.h -t util/pmu.l >  $(PRIVATE_TOP)/$@ && cd -
-$(PMU_FLEX_GEN_HOST) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PMU_FLEX_GEN_HOST) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PMU_FLEX_GEN_HOST) : PRIVATE_OUT := $(ANDROID_BUILD_TOP)/$(intermediates)
-$(PMU_FLEX_GEN_HOST) :
-	$(transform-generated-source)
-$(intermediates)/utils/pmu-flex.o: $(PMU_FLEX_GEN_HOST)
-
-#generates util/pmu-bison.c
-PMU_BISON_GEN_HOST := $(addprefix $(intermediates)/,util/pmu-bison.c)
-$(PMU_BISON_GEN_HOST) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && bison -v util/pmu.y -d -o $(PRIVATE_TOP)/$@ && cd -
-$(PMU_BISON_GEN_HOST) : PRIVATE_PATH := $(LOCAL_PATH)
-$(PMU_BISON_GEN_HOST) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(PMU_BISON_GEN_HOST) :
-	$(transform-generated-source)
-$(intermediates)/utils/pmu-bison.o: $(PMU_BISON_GEN_HOST)
-
-LOCAL_GENERATED_SOURCES = $(PARSE_EVENTS_FLEX_GEN_HOST) $(PARSE_EVENTS_BISON_GEN_HOST) $(PMU_FLEX_GEN_HOST) $(PMU_BISON_GEN_HOST)
-
-LOCAL_CFLAGS += $(PERF_CFLAGS_HOST)
-LOCAL_SRC_FILES+= $(LIB_SRCS)
-LOCAL_C_INCLUDES := \
-	$(PERF_C_INCLUDES_HOST) \
-	$(intermediates) \
-	$(intermediates)/util \
-
-include $(BUILD_HOST_STATIC_LIBRARY)
-
-#
-#libtraceevent (host)
-#
-include $(CLEAR_VARS)
-
-LOCAL_MODULE := libtraceevent
-LOCAL_CFLAGS += $(PERF_CFLAGS_HOST)
-LOCAL_MODULE_CLASS := STATIC_LIBRARIES
-LOCAL_SRC_FILES+= $(LIB_TRACEEVENT_SRCS)
-include $(BUILD_HOST_STATIC_LIBRARY)
-
-#
-#perf (host)
-#
-include $(CLEAR_VARS)
-
-LOCAL_MODULE_CLASS := EXECUTABLES
-LOCAL_MODULE := perf
-LOCAL_IS_HOST_MODULE := true
-
-intermediates := $(call local-intermediates-dir)
-
-#generates common-cmds.h
-CMDS_GEN_HOST := $(addprefix $(intermediates)/,common-cmds.h)
-$(CMDS_GEN_HOST) : PRIVATE_CUSTOM_TOOL = cd $(PRIVATE_PATH) && util/generate-cmdlist.sh > $(PRIVATE_TOP)/$@ && cd -
-$(CMDS_GEN_HOST) : PRIVATE_PATH := $(LOCAL_PATH)
-$(CMDS_GEN_HOST) : PRIVATE_TOP := $(ANDROID_BUILD_TOP)
-$(CMDS_GEN_HOST) :
-	$(transform-generated-source)
-
-LOCAL_GENERATED_SOURCES = $(CMDS_GEN_HOST)
-
-LOCAL_STATIC_LIBRARIES := libperf libelf libtraceevent
-LOCAL_LDLIBS := -lpthread -ldl
-# for clock_gettime
-ifeq ($(HOST_OS),linux)
-LOCAL_LDLIBS += -lrt
-endif
-
-LOCAL_SRC_FILES+= $(BUILTIN_SRCS)
-LOCAL_CFLAGS += $(PERF_CFLAGS_HOST)
-LOCAL_C_INCLUDES := \
-	$(PERF_C_INCLUDES_HOST) \
-	$(intermediates) \
-	$(intermediates)/util \
-
-include $(BUILD_HOST_EXECUTABLE)
-
-# perf-archive (host)
-# Copy archive script
-# We have to call copy-file-to-new-target instead of simply including
-# $(BUILD_PREBUILT) here, because we need the script to have exec rights
-include $(CLEAR_VARS)
-
-LOCAL_MODULE := perf-archive
-LOCAL_MODULE_CLASS := EXECUTABLES
-LOCAL_IS_HOST_MODULE := true
-LOCAL_SRC_FILES := $(LOCAL_MODULE).sh
-include $(BUILD_SYSTEM)/base_rules.mk
-$(LOCAL_BUILT_MODULE): $(LOCAL_PATH)/$(LOCAL_MODULE).sh | $(ACP)
-	@echo "Copy: $(PRIVATE_MODULE) ($@)"
-	$(copy-file-to-new-target)
-	$(hide) chmod 755 $@
-
-endif # BOARD_PERF
-- 
1.7.4.1

